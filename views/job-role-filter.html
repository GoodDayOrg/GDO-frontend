<aside class="side-bar">
    <h5>Filters</h5>
    <form id="filterForm" action="/job-roles/filter" method="get">
        <!-- Free text field for roleName -->
        <div class="filter-container">
            <h6 class="filter-title">Role Name</h6>
            <input class="no-border-input" type="text" name="roleName" value="{{ filters.roleName or '' }}" placeholder="Enter role name">
        </div>

        <!-- Checkbox list for jobRoleLocation -->
        <div class="filter-container">
            <h6 class="filter-title">Location</h6>
            <div class="checkbox-group">
                {% set locations = ['Belfast', 'Atlanta', 'Indianapolis', 'Buenos Aires', 'Antwerp', 'Toronto', 'Copenhagen', 'Helsinki', 'Paris', 'Frankfurt am Main', 'Gda≈Ñsk'] %}
                {% set selectedLocations = (filters.jobRoleLocation or '').split(',') %}
                {% for location in locations %}
                    <label>
                        <input type="checkbox" name="jobRoleLocation" value="{{ location }}" {% if location in selectedLocations %} checked {% endif %}> {{ location }}
                    </label>
                {% endfor %}
            </div>
        </div>

        <!-- Dropdown for capabilityName -->
        <div class="filter-container">
            <h6 class="filter-title">Capability</h6>
            <div class="checkbox-group">
                {% set capabilities = ['Applied Innovation', 'Business Development & Marketing', 'Business Services Support', 'Cyber Security', 'Data & AI', 'Delivery Management', 'Engineering', 'Experience Design', 'Platforms', 'Pre-Sales', 'Product & Digital Advisory', 'Quality Assurance'] %}
                {% set selectedCapabilities = (filters.capabilityName or '').split(',') %}
                {% for capability in capabilities %}
                    <label>
                        <input type="checkbox" name="capabilityName" value="{{ capability }}" {% if capability in selectedCapabilities %} checked {% endif %}> {{ capability }}
                    </label>
                {% endfor %}
            </div>
        </div>

        <!-- Dropdown for bandName -->
        <div class="filter-container">
            <h6 class="filter-title">Band</h6>
            <div class="checkbox-group">
                {% set bands = ['Apprentice', 'Trainee', 'Associate', 'Senior Associate', 'Consultant', 'Principal', 'Lead', 'Manager'] %}
                {% set selectedBands = (filters.bandName or '').split(',') %}
                {% for band in bands %}
                    <label>
                        <input type="checkbox" name="bandName" value="{{ band }}" {% if band in selectedBands %} checked {% endif %}> {{ band }}
                    </label>
                {% endfor %}
            </div>
        </div>

        <!-- Date field for closingDate -->
        <div class="filter-container">
            <h6 class="filter-title">Closing Date</h6>
            <input class="no-border-input" type="date" name="closingDate" value="{{ filters.closingDate or '' }}">
        </div>

        <!-- Submit button -->
        <div class="filter-container">
            <button class="btn btn-outline-primary" type="submit">Filter</button>
        </div>
    </form>
</aside>
